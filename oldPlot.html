<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>cf activity</title>
    <link href="layout.css" rel="stylesheet" type="text/css"></link>
    <!--[if IE]><script language="javascript" type="text/javascript" src="plotting_system/excanvas.min.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="plotting_system/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="plotting_system/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="plotting_system/jquery.flot.selection.js"></script>
 </head>
    <body>
    <h1>Pali kek:</h1>

    <div id="placeholder" style="width:600px;height:300px"></div>

    <p><input id="clearSelection" type="button" value="Clear selection" /></p>
    <p><input id="zoom" type="checkbox">Zoom to selection.</input></p>

<script id="source" language="javascript" type="text/javascript">
$(function () {
    var data = [
        // {
        //     label: "Vladik",
        //     data: [ ["2014/9/1", 1], ["2014/10/1", 31], ["2014/11/1", 51], ["2014/12/1", 1], ["2015/1/1", 36], ["2015/2/1", 41], ["2015/3/1", 29], ["2015/4/1", 206], ["2015/5/1", 186], ["2015/6/1", 194], ["2015/7/1", 155], ["2015/8/1", 229], ["2015/9/1", 122], ["2015/10/1", 102], ["2015/11/1", 84], ["2015/12/1", 100], ["2016/1/1", 76], ["2016/2/1", 39], ["2016/3/1", 49], ["2016/4/1", 92], ["2016/5/1", 103], ["2016/6/1", 76], ["2016/7/1", 83], ["2016/8/1", 69], ["2016/9/1", 105], ["2016/10/1", 83], ["2016/11/1", 90], ["2016/12/1", 56] ]
        // },
        // {
        //     label: "kefaa",
        //     data: [["2014/1/1", 14], ["2014/3/1", 7], ["2014/4/1", 14], ["2014/5/1", 12], ["2014/6/1", 183], ["2014/7/1", 72], ["2014/8/1", 148], ["2014/9/1", 38], ["2014/10/1", 47], ["2014/11/1", 101], ["2014/12/1", 82], ["2015/1/1", 69], ["2015/2/1", 40], ["2015/3/1", 17], ["2015/4/1", 55], ["2015/5/1", 95], ["2015/6/1", 82], ["2015/7/1", 19], ["2015/8/1", 51], ["2015/9/1", 86], ["2015/10/1", 152], ["2015/11/1", 82], ["2015/12/1", 80], ["2016/1/1", 60], ["2016/2/1", 61], ["2016/3/1", 68], ["2016/4/1", 70], ["2016/5/1", 15], ["2016/6/1", 49], ["2016/7/1", 109], ["2016/8/1", 92], ["2016/9/1", 98], ["2016/10/1", 128], ["2016/11/1", 61], ["2016/12/1", 47] ]
        // },
        // {
        //     label: "hloya_ygrt",
        //     data: [["2015/2/1", 5], ["2015/3/1", 2], ["2015/6/1", 2], ["2015/7/1", 3], ["2015/8/1", 9], ["2015/9/1", 5], ["2015/10/1", 26], ["2015/11/1", 17], ["2015/12/1", 93], ["2016/1/1", 70], ["2016/2/1", 75], ["2016/3/1", 48], ["2016/4/1", 92], ["2016/5/1", 136], ["2016/6/1", 61], ["2016/7/1", 58], ["2016/8/1", 68], ["2016/9/1", 51], ["2016/10/1", 94], ["2016/11/1", 87], ["2016/12/1", 94]]
        // },
        // {
        //     label: "Valerich",
        //     data: [["2013/11/1", 1], ["2014/3/1", 17], ["2014/4/1", 10], ["2014/5/1", 9], ["2014/6/1", 21], ["2014/8/1", 10], ["2014/9/1", 12], ["2014/10/1", 51], ["2014/11/1", 49], ["2014/12/1", 13], ["2015/1/1", 4], ["2015/2/1", 17], ["2015/3/1", 21], ["2015/4/1", 22], ["2015/5/1", 3], ["2015/6/1", 8], ["2015/8/1", 30], ["2015/9/1", 59], ["2015/10/1", 107], ["2015/11/1", 40], ["2015/12/1", 92], ["2016/1/1", 49], ["2016/2/1", 30], ["2016/3/1", 11], ["2016/4/1", 66], ["2016/5/1", 87], ["2016/6/1", 60], ["2016/7/1", 1], ["2016/8/1", 75], ["2016/9/1", 122], ["2016/10/1", 113], ["2016/11/1", 143], ["2016/12/1", 127]]
        // },
        // {
        //     label: "altruist",
        //     data: [["2014/12/1", 3], ["2015/6/1", 9], ["2015/7/1", 5], ["2015/8/1", 20], ["2015/9/1", 17], ["2015/10/1", 30], ["2015/11/1", 45], ["2015/12/1", 58], ["2016/1/1", 6], ["2016/2/1", 20], ["2016/3/1", 18], ["2016/4/1", 21], ["2016/5/1", 29], ["2016/6/1", 39], ["2016/7/1", 11], ["2016/8/1", 42], ["2016/9/1", 81], ["2016/10/1", 96], ["2016/11/1", 115], ["2016/12/1", 77]]
        // },
        // {
        //     label: "Melnik",
        //     data: [["2014/9/1", 4], ["2015/1/1", 2], ["2015/2/1", 4], ["2015/3/1", 2], ["2015/6/1", 13], ["2015/8/1", 13], ["2015/9/1", 26], ["2015/10/1", 48], ["2015/11/1", 18], ["2015/12/1", 86], ["2016/1/1", 48], ["2016/2/1", 28], ["2016/3/1", 20], ["2016/4/1", 6], ["2016/5/1", 32], ["2016/6/1", 39], ["2016/8/1", 39], ["2016/9/1", 52], ["2016/10/1", 32], ["2016/11/1", 77], ["2016/12/1", 64]]
        // },
        {
            label: "Tigerrrr",
            data: [["2012/10/1", 1], ["2013/1/1", 4], ["2013/2/1", 2], ["2013/3/1", 2], ["2013/5/1", 1], ["2013/6/1", 1], ["2013/10/1", 1], ["2013/12/1", 8], ["2014/1/1", 7], ["2014/3/1", 4], ["2014/4/1", 17], ["2014/5/1", 2], ["2014/9/1", 5], ["2014/10/1", 1], ["2014/11/1", 5], ["2014/12/1", 6], ["2015/1/1", 7], ["2015/2/1", 12], ["2015/3/1", 17], ["2015/6/1", 2], ["2015/9/1", 4], ["2015/10/1", 12], ["2015/11/1", 13], ["2015/12/1", 15], ["2016/1/1", 21], ["2016/2/1", 35], ["2016/3/1", 27], ["2016/4/1", 10], ["2016/5/1", 12], ["2016/6/1", 13], ["2016/7/1", 24], ["2016/8/1", 6], ["2016/9/1", 26], ["2016/10/1", 16], ["2016/11/1", 16], ["2016/12/1", 47]]
        }
    ];
    for(var j = 0; j < data.length; ++j) {
          for(var i = 0; i < data[j].data.length; ++i)
            data[j].data[i][0] = Date.parse(data[j].data[i][0]);
        }

    var options = {
        series: {
            lines: { show: true },
            points: { show: true }
        },
        legend: { noColumns: 2 },
        xaxis: { mode: "time", timeformat: "%y/%m"} ,
        yaxis: { min: 0 },
        selection: { mode: "x" }
    };

    var placeholder = $("#placeholder");

    placeholder.bind("plotselected", function (event, ranges) {
        $("#selection").text(ranges.xaxis.from.toFixed(1) + " to " + ranges.xaxis.to.toFixed(1));

        var zoom = $("#zoom").attr("checked");
        if (zoom)
            plot = $.plot(placeholder, data,
                          $.extend(true, {}, options, {
                              xaxis: { min: ranges.xaxis.from, max: ranges.xaxis.to }
                          }));
    });

    placeholder.bind("plotunselected", function (event) {
        $("#selection").text("");
    });
    
    var plot = $.plot(placeholder, data, options);

    $("#clearSelection").click(function () {
        plot.clearSelection();
    });
});
</script>

 </body>
</html>
